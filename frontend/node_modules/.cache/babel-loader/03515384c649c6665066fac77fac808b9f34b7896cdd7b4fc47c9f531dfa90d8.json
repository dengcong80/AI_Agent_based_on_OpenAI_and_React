{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dengc\\\\Desktop\\\\cs\\\\AI_Agent_based_on_OpenAI_and_React\\\\frontend\\\\src\\\\components\\\\ChatInterface.js\",\n  _s = $RefreshSig$();\n// frontend/src/components/ChatInterface.js\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Box, Paper, TextField, IconButton, Typography, CircularProgress, Chip, Avatar, Divider, Button } from \"@mui/material\";\nimport SendIcon from \"@mui/icons-material/Send\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport SmartToyIcon from \"@mui/icons-material/SmartToy\";\nimport PersonIcon from \"@mui/icons-material/Person\";\nimport ReactMarkdown from \"react-markdown\";\nimport { sendChatMessage, clearChatHistory } from \"../services/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ChatInterface({\n  onNotification\n}) {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [sessionId, setSessionId] = useState(null);\n  const messagesEndRef = useRef(null);\n\n  // auto scroll to bottom\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  // send messages\n  const handleSend = async () => {\n    if (!input.trim() || loading) return;\n    const userMessage = {\n      role: \"user\",\n      content: input,\n      timestamp: new Date().toISOString()\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setInput(\"\");\n    setLoading(true);\n    try {\n      const response = await sendChatMessage(input, sessionId);\n      // save sessionId\n      if (!sessionId) {\n        setSessionId(response.sessionId);\n      }\n      const assistantMessage = {\n        role: \"assistant\",\n        content: response.message,\n        timestamp: new Date().toISOString(),\n        usage: response.usage\n      };\n      setMessages(prev => [...prev, assistantMessage]);\n      onNotification(\"messages send successfully\", \"success\");\n    } catch (error) {\n      onNotification(`send failed:${error.message}`, \"error\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // clear history\n  const handleClear = async () => {\n    if (!sessionId) {\n      setMessages([]);\n      return;\n    }\n    try {\n      await clearChatHistory(sessionId);\n      setMessages([]);\n      setSessionId(null);\n      onNotification(\"chat history has been cleared\", \"success\");\n    } catch (error) {\n      onNotification(`clear failed:${error.message}`, \"error\");\n    }\n  };\n  // enter send\n  const handleKeyPress = e => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    elevation: 2,\n    sx: {\n      height: \"calc(100vh - 220px)\",\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 2,\n        borderBottom: \"1px solid #e0e0e0\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        backgroundColor: \"#fafafa\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          children: \"AI chat assistant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"caption\",\n          color: \"text.secondary\",\n          children: sessionId ? `session ID: ${sessionId.slice(0, 15)}...` : 'new session'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        size: \"small\",\n        startIcon: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 25\n        }, this),\n        onClick: handleClear,\n        disabled: messages.length === 0,\n        children: \"clear history\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        flex: 1,\n        overflowY: \"auto\",\n        p: 2,\n        backgroundColor: \"#f5f5f5\"\n      },\n      children: [messages.length === 0 ? /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          height: \"100%\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          color: \"text.secondary\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(SmartToyIcon, {\n          sx: {\n            fontSize: 60,\n            mb: 2,\n            opacity: 0.3\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          children: \"begin chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          align: \"center\",\n          children: \"input your probems,AI assistant will help you answer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this) : messages.map((message, index) => /*#__PURE__*/_jsxDEV(MessageBubble, {\n        message: message\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 2,\n        borderTop: \"1px solid #e0e0e0\",\n        backgroundColor: \"#fff\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: \"flex\",\n          gap: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          multiline: true,\n          maxRows: 4,\n          placeholder: \"input messages... (Shift+Enter line break)\",\n          value: input,\n          onChange: e => setInput(e.target.value),\n          onKeyPress: handleKeyPress,\n          disabled: loading,\n          variant: \"outlined\",\n          size: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          color: \"primary\",\n          onClick: handleSend,\n          disabled: !input.trim() || loading,\n          sx: {\n            backgroundColor: \"primary.main\",\n            color: \"white\",\n            \"&:hover\": {\n              backgroundColor: \"primary.dark\"\n            },\n            \"&:disabled\": {\n              backgroundColor: \"action.disabledBackground\"\n            }\n          },\n          children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n            size: 24,\n            color: \"inherit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 30\n          }, this) : /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 78\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n\n// message bubble components\n_s(ChatInterface, \"jEGFlBGNH+YCHb+FX0lLkhhK+gM=\");\n_c = ChatInterface;\nfunction MessageBubble({\n  message\n}) {\n  const isUser = message.role === \"user\";\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex',\n      justifyContent: isUser ? \"flex-end\" : \"flex-start\",\n      mb: 2\n    },\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: \"flex\",\n        flexDirection: isUser ? \"row-reverse\" : \"row\",\n        gap: 1,\n        maxWidth: \"70%\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        sx: {\n          bgcolor: isUser ? \"primary.main\" : \"secondary.main\",\n          width: 36,\n          height: 36\n        },\n        children: isUser ? /*#__PURE__*/_jsxDEV(PersonIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(SmartToyIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 43\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 1,\n        sx: {\n          p: 2,\n          backgroundColor: isUser ? \"primary.light\" : \"white\",\n          color: isUser ? \"white\" : \"text.primary\",\n          borderRadius: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(ReactMarkdown, {\n          children: message.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mt: 1,\n            display: \"flex\",\n            gap: 1,\n            flexWrap: \"wrap\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Chip, {\n            label: new Date(message.timestamp).toLocaleTimeString(),\n            size: \"small\",\n            sx: {\n              height: 20,\n              fontSize: \"0.7rem\",\n              backgroundColor: isUser ? \"rgba(255,255,255,0.2)\" : \"rgba(0,0,0,0.05)\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 25\n          }, this), message.usage && /*#__PURE__*/_jsxDEV(Chip, {\n            label: `Tokens:${message.usage.total_tokens}`,\n            size: \"small\",\n            sx: {\n              height: 20,\n              fontSize: \"0.7rem\",\n              backgroundColor: isUser ? \"rgba(255,255,255,0.2)\" : \"rgba(0,0,0,0.05)\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 9\n  }, this);\n}\n_c2 = MessageBubble;\nexport default ChatInterface;\nvar _c, _c2;\n$RefreshReg$(_c, \"ChatInterface\");\n$RefreshReg$(_c2, \"MessageBubble\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Box","Paper","TextField","IconButton","Typography","CircularProgress","Chip","Avatar","Divider","Button","SendIcon","DeleteIcon","SmartToyIcon","PersonIcon","ReactMarkdown","sendChatMessage","clearChatHistory","jsxDEV","_jsxDEV","ChatInterface","onNotification","_s","messages","setMessages","input","setInput","loading","setLoading","sessionId","setSessionId","messagesEndRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSend","trim","userMessage","role","content","timestamp","Date","toISOString","prev","response","assistantMessage","message","usage","error","handleClear","handleKeyPress","e","key","shiftKey","preventDefault","elevation","sx","height","display","flexDirection","children","p","borderBottom","justifyContent","alignItems","backgroundColor","variant","fileName","_jsxFileName","lineNumber","columnNumber","color","slice","size","startIcon","onClick","disabled","length","flex","overflowY","fontSize","mb","opacity","gutterBottom","align","map","index","MessageBubble","ref","borderTop","gap","fullWidth","multiline","maxRows","placeholder","value","onChange","target","onKeyPress","_c","isUser","maxWidth","bgcolor","width","borderRadius","mt","flexWrap","label","toLocaleTimeString","total_tokens","_c2","$RefreshReg$"],"sources":["C:/Users/dengc/Desktop/cs/AI_Agent_based_on_OpenAI_and_React/frontend/src/components/ChatInterface.js"],"sourcesContent":["// frontend/src/components/ChatInterface.js\r\nimport React,{useState,useRef,useEffect} from 'react';\r\nimport{\r\n    Box,\r\n    Paper,\r\n    TextField,\r\n    IconButton,\r\n    Typography,\r\n    CircularProgress,\r\n    Chip,\r\n    Avatar,\r\n    Divider,\r\n    Button\r\n} from \"@mui/material\";\r\nimport SendIcon from \"@mui/icons-material/Send\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport SmartToyIcon from \"@mui/icons-material/SmartToy\";\r\nimport PersonIcon from \"@mui/icons-material/Person\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport {sendChatMessage,clearChatHistory} from \"../services/api\";\r\n\r\nfunction ChatInterface({onNotification}){\r\n    const [messages,setMessages] = useState([]);\r\n    const [input,setInput] = useState('');\r\n    const [loading,setLoading] = useState(false);\r\n    const [sessionId,setSessionId]= useState(null);\r\n    const messagesEndRef = useRef(null);\r\n\r\n    // auto scroll to bottom\r\n    const scrollToBottom = ()=>{\r\n        messagesEndRef.current?.scrollIntoView({behavior:\"smooth\"});\r\n   };\r\n   useEffect(()=>{\r\n    scrollToBottom();\r\n   },[messages]);\r\n   // send messages\r\n   const handleSend = async()=>{\r\n    if(!input.trim()||loading) return;\r\n    const userMessage = {\r\n        role:\"user\",\r\n        content:input,\r\n        timestamp:new Date().toISOString()\r\n    };\r\n    setMessages((prev)=>[...prev,userMessage]);\r\n    setInput(\"\");\r\n    setLoading(true);\r\n    try{\r\n    const response = await sendChatMessage(input,sessionId);\r\n    // save sessionId\r\n    if(!sessionId){\r\n        setSessionId(response.sessionId);\r\n    }\r\n    const assistantMessage={\r\n        role:\"assistant\",\r\n        content:response.message,\r\n        timestamp:new Date().toISOString(),\r\n        usage:response.usage\r\n    };\r\n    setMessages((prev)=>[...prev,assistantMessage]);\r\n    onNotification(\"messages send successfully\",\"success\");\r\n\r\n    }catch(error){\r\n        onNotification(`send failed:${error.message}`,\"error\");\r\n    }finally{\r\n        setLoading(false);\r\n    }\r\n   };\r\n\r\n   // clear history\r\n   const handleClear = async()=>{\r\n    if(!sessionId){\r\n        setMessages([]);\r\n        return;\r\n    }\r\n    try{\r\n      await clearChatHistory(sessionId);\r\n      setMessages([]);\r\n      setSessionId(null);\r\n      onNotification(\"chat history has been cleared\",\"success\");\r\n    }catch(error){\r\n     onNotification(`clear failed:${error.message}`,\"error\");\r\n    }\r\n   };\r\n   // enter send\r\n   const handleKeyPress = (e)=>{\r\n    if(e.key === \"Enter\" && !e.shiftKey){\r\n        e.preventDefault();\r\n        handleSend();\r\n    }\r\n   };\r\n   return(\r\n    <Paper elevation={2} sx={{height:\"calc(100vh - 220px)\",display:\"flex\",flexDirection:\"column\"}}>\r\n        {/**chat head */}\r\n        <Box sx={{\r\n            p:2,\r\n            borderBottom:\"1px solid #e0e0e0\",\r\n            display:\"flex\",\r\n            justifyContent:\"space-between\",\r\n            alignItems:\"center\",\r\n            backgroundColor:\"#fafafa\"\r\n        }}>\r\n            <Box>\r\n                <Typography variant='h6'>AI chat assistant</Typography>\r\n                <Typography variant='caption' color=\"text.secondary\">\r\n                    {sessionId ? `session ID: ${sessionId.slice(0,15)}...`:'new session'}\r\n                </Typography>\r\n            </Box>\r\n            <Button\r\n             variant='outlined'\r\n             size='small'\r\n             startIcon={<DeleteIcon/>}\r\n             onClick={handleClear}\r\n             disabled={messages.length===0}>\r\n                clear history\r\n             </Button>\r\n        </Box>\r\n        {/**messages list */}\r\n        <Box\r\n        sx={{\r\n            flex:1,\r\n            overflowY:\"auto\",\r\n            p:2,\r\n            backgroundColor:\"#f5f5f5\"\r\n        }}>\r\n            {messages.length===0?(\r\n                <Box\r\n                sx={{\r\n                    height:\"100%\",\r\n                    display:\"flex\",\r\n                    flexDirection:\"column\",\r\n                    justifyContent:\"center\",\r\n                    alignItems:\"center\",\r\n                    color:\"text.secondary\"\r\n                }}\r\n                >\r\n                    <SmartToyIcon sx={{fontSize:60,mb:2,opacity:0.3}} />\r\n                    <Typography variant='h6' gutterBottom>\r\n                        begin chat\r\n                    </Typography>\r\n                    <Typography variant='body2' align=\"center\">\r\n                        input your probems,AI assistant will help you answer\r\n                    </Typography>\r\n                </Box>\r\n            ):(\r\n                messages.map((message,index)=>(\r\n                    <MessageBubble key={index} message={message}/>\r\n                ))\r\n            )}\r\n            <div ref={messagesEndRef} />\r\n        </Box>\r\n        {/**input area */}\r\n        <Box\r\n        sx={{p:2,\r\n            borderTop:\"1px solid #e0e0e0\",\r\n            backgroundColor:\"#fff\"\r\n        }}>\r\n            <Box sx={{display:\"flex\",gap:1}}>\r\n                <TextField \r\n                fullWidth\r\n                multiline\r\n                maxRows={4}\r\n                placeholder='input messages... (Shift+Enter line break)'\r\n                value={input}\r\n                onChange={(e)=>setInput(e.target.value)}\r\n                onKeyPress={handleKeyPress}\r\n                disabled={loading}\r\n                variant='outlined'\r\n                size=\"small\"\r\n                />\r\n                <IconButton\r\n                color='primary'\r\n                onClick={handleSend}\r\n                disabled={!input.trim()||loading}\r\n                sx={{\r\n                    backgroundColor: \"primary.main\",\r\n                    color:\"white\",\r\n                    \"&:hover\":{\r\n                        backgroundColor:\"primary.dark\"\r\n                    },\r\n                    \"&:disabled\":{\r\n                        backgroundColor:\"action.disabledBackground\"\r\n                    }\r\n                }}>\r\n                    {loading?<CircularProgress size={24} color=\"inherit\" />: <SendIcon/>}\r\n                </IconButton>\r\n            </Box>\r\n        </Box>\r\n    </Paper>\r\n   );\r\n}\r\n\r\n// message bubble components\r\nfunction MessageBubble({message}){\r\n    const isUser = message.role === \"user\";\r\n    return (\r\n        <Box\r\n        sx={{\r\n            display:'flex',\r\n            justifyContent:isUser?\"flex-end\":\"flex-start\",\r\n            mb:2\r\n        }}\r\n        >\r\n            <Box\r\n            sx={{\r\n               display:\"flex\",\r\n               flexDirection:isUser?\"row-reverse\":\"row\",\r\n               gap:1,\r\n               maxWidth:\"70%\"\r\n            }}\r\n            >\r\n                {/**avatar */}\r\n                <Avatar\r\n                 sx={{\r\n                    bgcolor:isUser?\"primary.main\":\"secondary.main\",\r\n                    width:36,\r\n                    height:36\r\n                 }}\r\n                >\r\n                    {isUser?<PersonIcon/>:<SmartToyIcon/>}\r\n                </Avatar>\r\n                {/**message content */}\r\n                <Paper\r\n                 elevation={1}\r\n                 sx={{\r\n                    p:2,\r\n                    backgroundColor:isUser?\"primary.light\":\"white\",\r\n                    color:isUser?\"white\":\"text.primary\",\r\n                    borderRadius:2\r\n                 }}\r\n                >\r\n                    <ReactMarkdown>{message.content}</ReactMarkdown>\r\n                    {/**timestamp and token */}\r\n                    <Box sx={{mt:1,display:\"flex\",gap:1,flexWrap:\"wrap\"}}>\r\n                        <Chip\r\n                          label={new Date(message.timestamp).toLocaleTimeString()}\r\n                          size=\"small\"\r\n                          sx={{\r\n                            height:20,\r\n                            fontSize:\"0.7rem\",\r\n                            backgroundColor:isUser?\"rgba(255,255,255,0.2)\":\"rgba(0,0,0,0.05)\"\r\n                          }}\r\n                        />\r\n                            {message.usage&&(\r\n                                <Chip \r\n                                label={`Tokens:${message.usage.total_tokens}`}\r\n                                size='small'\r\n                                sx={{\r\n                                    height:20,\r\n                                    fontSize:\"0.7rem\",\r\n                                    backgroundColor:isUser?\"rgba(255,255,255,0.2)\":\"rgba(0,0,0,0.05)\"\r\n                                }}/>\r\n                            )}\r\n                        \r\n                    </Box>\r\n                </Paper>\r\n            </Box>\r\n        </Box>\r\n    );\r\n}\r\n\r\nexport default ChatInterface;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}